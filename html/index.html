<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title> AJAX  </title> 

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    
    </head> 
<body onload="ajaxCall()">
<div class="container-fluid">
<h2>Authors Table</h2>
<table >
    <thead>
  <tr>
    <th scope="col">First Name</th>
    <th scope="col">Last Name</th>
  </tr>
</thead>
<tbody id="authors">
</tbody>
</table>
<p>To undestand the example better, we have added borders to the table.</p>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

</body>
<script>
    function ajaxCall()
    {
        $.ajax(
        {
            method: 'GET',
            cache: false,
            url: '/authors',
            success: function(data) 
            { 
                var table = ""; 
                authors = JSON.parse(data);
                console.log(authors); 
                for(var i = 0; i < authors.length; i++)
                {
                    var au = authors[i]; 
                    table += '<tr>'; 
                        table += '<td>'
                        table += au.au_fname;
                        table += '</td>'
                        table += '<td>'
                        table += au.au_lname;
                        table += '</td>'
                        table += '<td>'
                        table += '<button class="btn btn-secondary btn-sm">Edit</button>'
                        table += '</td>'
                        table += '<td>'
                        table += '<button class="btn btn-secondary btn-sm">Books</button>'
                        table += '</td>'
                    table += '</tr>'
                }
                document.getElementById("authors").innerHTML = table;  
            },
            error: function(data){
                console.log(data); 
            }
        }
        ); // end ajax
    
    
    }
    
    </script>
</html>